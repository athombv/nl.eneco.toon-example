{
  "id": "nl.eneco.toon",
  "version": "3.0.1",
  "compatibility": ">=5.0.0",
  "brandColor": "#e74759",
  "sdk": 3,
  "name": {
    "en": "Toon",
    "nl": "Toon"
  },
  "description": {
    "en": "Insight in your energy usage and generation",
    "nl": "Inzicht in je energieverbruik en opwekking"
  },
  "author": {
    "name": "Athom B.V."
  },
  "category": "climate",
  "images": {
    "large": "assets/images/large.png",
    "small": "assets/images/small.png"
  },
  "capabilities": {
    "temperature_state": {
      "type": "enum",
      "title": {
        "en": "Temperature state",
        "nl": "Temperatuurstand"
      },
      "getable": true,
      "setable": true,
      "values": [
        {
          "id": "comfort",
          "title": {
            "en": "Comfort",
            "nl": "Comfort"
          }
        },
        {
          "id": "home",
          "title": {
            "en": "Home",
            "nl": "Thuis"
          }
        },
        {
          "id": "sleep",
          "title": {
            "en": "Sleep",
            "nl": "Slapen"
          }
        },
        {
          "id": "away",
          "title": {
            "en": "Away",
            "nl": "Weg"
          }
        },
        {
          "id": "none",
          "title": {
            "en": "No state",
            "nl": "Geen stand"
          }
        }
      ]
    }
  },
  "drivers": [
    {
      "id": "toon",
      "name": {
        "en": "Toon",
        "nl": "Toon"
      },
      "images": {
        "large": "drivers/toon/assets/images/large.png",
        "small": "drivers/toon/assets/images/small.png"
      },
      "class": "thermostat",
      "capabilities": [
        "target_temperature",
        "measure_temperature",
        "measure_humidity",
        "temperature_state",
        "meter_power",
        "measure_power",
        "meter_gas"
      ],
      "capabilitiesOptions": {
        "target_temperature": {
          "step": 0.5,
          "min": 6,
          "max": 30
        }
      },
      "energy": {
        "cumulative": true
      },
      "pair": [
        {
          "id": "login_oauth2",
          "template": "login_oauth2",
          "options": {
            "hint": {
              "en": "To let Toon connect with Homey please login with the credentials of your Toon account. By logging in you authorize Homey to read limited data generated by your Toon. This data will only be stored on your Homey and displayed in Insights, it will not be used for any other purpose than that. This app works with Toon and is developed by Athom. If you have questions regarding the app, please visit the Athom support page (https://www.athom.com/en/support).",
              "nl": "Om Homey te verbinden met Toon moet je eerst inloggen met de gegevens van je Toon account. Door in te loggen geef je Homey toestemming tot het gebruik van beperkte informatie van Toon. Deze informatie wordt alleen opgeslagen op Homey voor weergave in Inzichten, en zal nergens anders voor worden gebruikt. Deze app werkt via Toon en is ontwikkeld door Athom. Voor vragen over de app, ga naar de Athom support pagina (https://www.athom.com/nl/ondersteuning)."
            },
            "button": {
              "en": "Login"
            }
          }
        },
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "repair": [
        {
          "id": "login_oauth2",
          "template": "login_oauth2"
        }
      ]
    }
  ],
  "flow": {
    "triggers": [
      {
        "id": "temperature_state_changed",
        "title": {
          "en": "Temperature state changed",
          "nl": "Temperatuurstand is veranderd"
        },
        "tokens": [
          {
            "name": "temperature_state",
            "type": "string",
            "title": {
              "en": "state",
              "nl": "stand"
            },
            "example": {
              "en": "Comfort",
              "nl": "Comfort"
            }
          }
        ],
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=toon"
          }
        ]
      }
    ],
    "conditions": [
      {
        "id": "temperature_state_is",
        "title": {
          "en": "Temperature state !{{is|isn't}}",
          "nl": "Temperatuurstand !{{is|is niet}}"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=toon"
          },
          {
            "name": "state",
            "type": "dropdown",
            "value": "comfort",
            "values": [
              {
                "id": "comfort",
                "label": {
                  "en": "Comfort",
                  "nl": "Comfort"
                }
              },
              {
                "id": "home",
                "label": {
                  "en": "Home",
                  "nl": "Thuis"
                }
              },
              {
                "id": "sleep",
                "label": {
                  "en": "Sleep",
                  "nl": "Slapen"
                }
              },
              {
                "id": "away",
                "label": {
                  "en": "Away",
                  "nl": "Weg"
                }
              },
              {
                "id": "none",
                "label": {
                  "en": "No state",
                  "nl": "Geen stand"
                }
              }
            ]
          }
        ]
      }
    ],
    "actions": [
      {
        "id": "set_temperature_state",
        "title": {
          "en": "Set temperature state",
          "nl": "Stel temperatuurstand in"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=toon"
          },
          {
            "name": "state",
            "type": "dropdown",
            "value": "comfort",
            "values": [
              {
                "id": "comfort",
                "label": {
                  "en": "Comfort",
                  "nl": "Comfort"
                }
              },
              {
                "id": "home",
                "label": {
                  "en": "Home",
                  "nl": "Thuis"
                }
              },
              {
                "id": "sleep",
                "label": {
                  "en": "Sleep",
                  "nl": "Slapen"
                }
              },
              {
                "id": "away",
                "label": {
                  "en": "Away",
                  "nl": "Weg"
                }
              }
            ]
          },
          {
            "name": "resume_program",
            "type": "dropdown",
            "value": "yes",
            "values": [
              {
                "id": "yes",
                "label": {
                  "en": "Resume program afterwards",
                  "nl": "Hervat programma na wijziging"
                }
              },
              {
                "id": "no",
                "label": {
                  "en": "Disable program",
                  "nl": "Schakel programma uit"
                }
              }
            ]
          }
        ]
      },
      {
        "id": "enable_program",
        "title": {
          "en": "Enable program",
          "nl": "Zet programma aan"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=toon"
          }
        ]
      },
      {
        "id": "disable_program",
        "title": {
          "en": "Disable program",
          "nl": "Zet programma uit"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=toon"
          }
        ]
      }
    ]
  },
  "api": {
    "getLogin": {
      "method": "get",
      "path": "/login/"
    },
    "postLogin": {
      "method": "post",
      "path": "/login/"
    }
  }
}